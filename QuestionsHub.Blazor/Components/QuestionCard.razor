@using QuestionsHub.Blazor.Domain

<div class="question-card" data-question-id="@Question.Id">
    <div class="question-header">
        @if (ShowFullHeader && Question.Tour?.Package != null)
        {
            <span class="question-number">
                <a href="/package/@Question.Tour.PackageId" class="text-decoration-none fw-bold">@Question.Tour.Package.Title</a>
                <span class="text-muted mx-1">→</span>
                <span class="text-muted">Тур @Question.Tour.Number</span>
                <span class="text-muted mx-1">→</span>
                <span class="text-muted fw-normal">Запитання @Question.Number</span>
            </span>
        }
        else
        {
            <span class="question-number">Запитання @Question.Number</span>
        }
        <button class="btn btn-sm copy-link-btn"
                onclick="copyQuestionLink(this, @Question.Id)"
                title="Скопіювати посилання на запитання">
            <Icon Name="link" Class="copy-icon" />
        </button>
    </div>

    <QuestionContent Question="Question" ShowAnswer="false">
        <div class="answer-toggle-section">
            <button class="btn btn-link answer-toggle p-0" onclick="toggleAnswer(this)">
                Показати відповідь
            </button>
        </div>
    </QuestionContent>
</div>

@code {
    [Parameter]
    public required Question Question { get; set; }

    /// <summary>
    /// When true, displays full breadcrumb header: "Package Title → Тур N → Запитання N"
    /// </summary>
    [Parameter]
    public bool ShowFullHeader { get; set; }
}
